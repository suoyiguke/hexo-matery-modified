---
title: dba记录.md
top: false
cover: false
toc: true
mathjax: true
date: 2022-03-20 18:16:49
password:
summary:
tags: dba
categories: dba
---
---
title: dba记录.md
top: false
cover: false
toc: true
mathjax: true
date: 2022-03-20 18:16:49
password:
summary:
tags: dba
categories: dba
---
楼方鑫:
可以学习代码了吗？老叶？

叶金荣:
源码预计8月初就能放出来，楼总

叶金荣:
还在合并和review中

叶金荣:
还要请楼总多指教

楼方鑫:
现在学习，以后参与。

吴炳锡| Datafuse Labs:
有机会娄总也给开源贡献点代码

叶金荣:


吴炳锡| Datafuse Labs:
娄总的优化，比较猛

楼方鑫:
scaleup+ha是不错的组合

Blake:
[动画表情]

吴炳锡| Datafuse Labs:
还是比较期待万里数库开源的，国内需要有一个商业公司能把这个事挑起来

叶金荣:
我们先专注对MGR的提升这个点

楼方鑫:
我先关注scale up

叶金荣:
数据库是个很大的系统

彰玉:
GreatSQL  主做 1 主写，多从读（类mongod 的复制集），还是多节点写

叶金荣:
看你自己选择哪种MGR方案

彰玉:
相对mysql的高可用。我个人感觉mongod 的复制集  还是做的比较成功的

彰玉:
也支持事务了

彰玉:
@叶金荣 感觉要一个方向吧  单写 多写的取舍有不同吧

叶金荣:
需要自己做取舍，MGR提供基础服务，上层方案自己选

哆哆她老爸:
@吴炳锡| Datafuse Labs 同意 没有商业公司做支撑 单靠开源社区 很难短时间内大幅提升

哆哆她老爸:
@卑微小哥 已拜读

忆雨林枫:
没有商业公司做背书， 一旦领导问起来，又是一通质疑，

忆雨林枫:
目前只能自己偷偷上 

哆哆她老爸:
这就是当年我们上hive最大的尴尬

哆哆她老爸:
领导不管原来他属于谁 只关注他现在属于谁

Blake:
商业公司也不是雷锋

哆哆她老爸:
甲骨文挺雷锋的

哆哆她老爸:
干过oracle都知道

Blake:


哆哆她老爸:
比那个倒了八辈子血霉的db2强

彰玉:
[图片]

吴炳锡| Datafuse Labs:
关键是他们能坚持下去

Blake:
对，有理由坚持下去。也不能总想着白嫖

彰玉:
@哆哆她老爸 有什么故事吗

彰玉:
[图片]

吴炳锡| Datafuse Labs:
有能力的白嫖一下，他们也喜欢。 需要舒服全套服务的，商业公司也能做。

Blake:
只能一部分商业公司这样吧

哆哆她老爸:
@彰玉 我之前在国民银行没少和他打交道 别提了

哆哆她老爸:
os390 db2

哆哆她老爸:
噩梦

彰玉:
@哆哆她老爸 大佬  会这套的人现在都是越来越少啊，越少越吃香啊

哆哆她老爸:
确实挺吃香

哆哆她老爸:
上周 北京出了个现场25万

哆哆她老爸:
db2升级 os390排障

哆哆她老爸:
@彰玉 在现场遇到我的偶像 牛博士了

Blake:
多香

彰玉:
牛新庄  刚想说牛新庄  大神，就是玩DB2 玩发的

哆哆她老爸:
嗯

哆哆她老爸:
牛博士 老白 

哆哆她老爸:
有时候走走现场 总能遇到

彰玉:
 老白  是oracle吧

彰玉:
@哆哆她老爸 大神你也强啊，这些故事现场你也在啊

哆哆她老爸:
白鳝 认识很久了

忆雨林枫:
膜拜

哆哆她老爸:
@彰玉 基本现在oracle的活我接的不少 所以现在我也不上班了

哆哆她老爸:
等着日本稳定了 我就回谷歌了

哆哆她老爸:
@彰玉 

彰玉:
白鳝  当年调做了oracle  搞了不少钱吧

哆哆她老爸:
@忆雨林枫 我也膜拜他们

哆哆她老爸:
没1000也得800万

哆哆她老爸:
南瑞一年顾问费就不低于200万一年

彰玉:
白鳝    感觉他做的最多的还是SQL 方向的，各种改写，参数类的调优，基本的用处比较少了

哆哆她老爸:
他和老崔 一起做sql优化

忆雨林枫:
当年 我的老湿课间讲的最多的就是跟老白 这帮第一代DBA的事故

哆哆她老爸:
有一本基于cbo的书 挺经典的

彰玉:
@哆哆她老爸 有他怕调优视频

哆哆她老爸:
@忆雨林枫 你是哪年学的oracle

彰玉:
应该是比较早的了

彰玉:
@哆哆她老爸 有他的调优视频

哆哆她老爸:
@彰玉 他有一个文档10g的 在itpub里有 应该可以找到

忆雨林枫:
好多， 

哆哆她老爸:
第一代dba 第一批ocm 第一批ace

哆哆她老爸:
货真价实的

忆雨林枫:
看过一些，但是事故场景 太啰嗦了， 看了一半就累

哆哆她老爸:
有机会我给你分享分享

哆哆她老爸:
带干不干的oracle我也快14年了

哆哆她老爸:
9i的ocp 10g的ocm

李会恒:


彰玉:
@哆哆她老爸 比我还早，我基本是10年开始的

Zen:


彰玉:
@哆哆她老爸 大神过了OCM 也要不少钱啊

哆哆她老爸:
@彰玉 我比较早 第一份dba的工作2008年 韩国国民银行 然后韩国KT

Blake:
过ocm没多少钱吧

哆哆她老爸:
@彰玉 单位出钱

彰玉:
当年舍不得那点小钱

哆哆她老爸:
当年20000多@Blake 

叶金荣:
多聊MySQL，MGR，GreatSQL吧

叶金荣:
这不是oracle群

哆哆她老爸:
@彰玉 没事 想考 我帮你练习

Blake:
10G的OCP我有，有朋友是OCM，比起来还是ACE更猛

Blake:
比如叶总我记得就是ACE？

哆哆她老爸:
MYSQL 8现在用的多吗 我在考虑 上不上呢

忆雨林枫:
是啊， 还是M吧， 早已不干O了

彰玉:
@叶金荣  mysql 我也学的早， 在2010年左右公司oracle 和mysql都有

哆哆她老爸:
我现在在考虑要不要给吉林银行这边上8

彰玉:
MYSQL   真心的，8.0比其它早期的香

Blake:
以前很多单位给报销，有的从业个人也出的起，咱多聊MySQL哈

彰玉:
@哆哆她老爸 不是核心业务。有什么怕的

哆哆她老爸:
@彰玉 关键要用开窗

哆哆她老爸:
@彰玉 银行你懂的

哆哆她老爸:
风控

彰玉:
@哆哆她老爸 看业务量吧 开窗 这种分析类的，用mysql基本搞不定

哆哆她老爸:
现在都在oracle11上呢

哆哆她老爸:
8我感觉还行 做了5200w的测试

彰玉:
oracle 比MySQL 8的还是要强很多的

哆哆她老爸:
改了改语句 还行

Blake:
MySQL搞分析，大家有好方法吗

Whl:
大佬们，都是懂代码的吧，是不是只有懂代码，才能成为大神

哆哆她老爸:
5.7基本不支持 得存储过程郁闷

哆哆她老爸:
@Blake 比如说

忆雨林枫:
8刚出来不就， 就埋头看官网

忆雨林枫:
[图片]

哆哆她老爸:
@彰玉 确实如此 但是去o还在进行

忆雨林枫:
花了两年多的时间，搞出来一半

哆哆她老爸:
@Whl 所谓大神就是干好本职工作 挣钱照顾好家人 多推广技术 本着来源精神的人

彰玉:
@哆哆她老爸 有oracle11 的窗口函数和mysql 8  大神有机会做一个对比

哆哆她老爸:
@忆雨林枫 等到出版了 我买一本

Blake:
比较常规的大数据量的排序，聚合汇总，明细查询等，还有汇总后的结果集之间的关联

哆哆她老爸:
@彰玉 好 正好我在做这件事

哆哆她老爸:
@Blake t+1还是rt

彰玉:
@哆哆她老爸 建议用阿里云 环境 ，数据库还是要用阿里云最高性能的ESSD 来高

彰玉:
普通硬盘就不要去和oracle比了

哆哆她老爸:
我身边大多数的环境不允许上云

哆哆她老爸:
基本都是物理机

彰玉:
性能差太远了

哆哆她老爸:
是的 oracle的东西真舍得花钱

哆哆她老爸:
@彰玉 给你看个好东西

彰玉:
物理机 只有核心业务。才可能有PCIE 的SSD

哆哆她老爸:
[图片]

哆哆她老爸:
我自己的p720

哆哆她老爸:
哈哈唉哈哈

彰玉:
2 手的吧

彰玉:
HOHO。在那搞到的

Blake:
T+1的话,除了提前汇总,还有其他方法么?RT(我认为是实时了)的话,如果有好的方法,也可以给我一些指导,

哆哆她老爸:
@彰玉 嗯 之前下架的 我拉回来了 国家某中心

彰玉:
@Blake 一般都是高调度。实现T+1 也可以用调度。先汇总一下，然后解析日志做流式处理

彰玉:
很多流批一体都是这样做的

Blake:
@彰玉 谢谢指点

哆哆她老爸:
@Blake t+1目前用的就是提前汇总 实时的 我们用了一个很low的方法 部分业务剥离出来用myisam

哆哆她老爸:
效果还行

哆哆她老爸:
数据量过大的话就hive和ck了

彰玉:
@哆哆她老爸 用流式吧，现在很多都是用这种，myisam 太老了，现在做分析不行了

彰玉:
结果一般都存ck吧

Blake:
只要满足需要,就是好方法,没有low不low一说,技术没有高低,真正把合适的技术放到合适的地方,个人认为是很厉害的谢谢指点

哆哆她老爸:
之前用了memory 后来内存崩了一次 心就凉了

哆哆她老爸:
@彰玉 flink不错的

哆哆她老爸:
mysql我们业务场景最多的就是ods

彰玉:
 flinksql 都一样

忆雨林枫:
@叶金荣  叶总，有没有creatsql 的白皮书 或者基于它的说明文档 

哆哆她老爸:
mgr也用了不少 挺灵活的

彰玉:
现在kafka 也慢慢在入侵流式处理的市场

彰玉:
我去年有玩过goka 这个流式处理的框架

叶金荣:
具体要啥样的文档呢

哆哆她老爸:
@彰玉 我这个人比较保守 一般只是用自己比较熟悉的

哆哆她老爸:
风险可控

哆哆她老爸:
现在还有几个系统上的solaris11@彰玉 

忆雨林枫:
具体优化了那些地方， 

忆雨林枫:
这样，更有说服力上creatsql

叶金荣:
好，我先私聊发给你，是还未公开的文档 ：）

楼方鑫:
同求，学习。

付山晓:
同求，学习。
